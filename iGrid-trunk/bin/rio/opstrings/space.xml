<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE opstring SYSTEM "java://org/jini/rio/dtd/rio_opstring.dtd" [
    <!ENTITY Local.IP SYSTEM "java://java.net.InetAddress.getLocalHost().getHostAddress()" >
    <!ENTITY Local.Port "9000" >
    <!ENTITY CodeServerURL "http://&Local.IP;:&Local.Port;/" >
]>

<opstring>
    <OperationalString Name="JavaSpace Substrate">

        <ServiceBean Name="JavaSpace">
            <Codebase>&CodeServerURL;</Codebase>

            <Interfaces>
                <Interface>net.jini.space.JavaSpace</Interface>
                <Resources>
                    <JAR>outrigger-dl.jar</JAR>
                </Resources>
            </Interfaces>
         

            <ImplementationClass>com.sun.jini.outrigger.TransientOutriggerImpl
                <Resources>
                    <JAR>outrigger.jar</JAR>
                </Resources>
            </ImplementationClass>

            <ServiceLevelAgreements>
                <SystemRequirements>
                    <Utilization ID="System" High=".8" />
                    <Utilization ID="CPU" High=".7" />
                    <Utilization ID="Memory" High=".8" />
                </SystemRequirements>

                <SLA ID="CPU" High=".9">
                    <Configuration>
                        <Component Name="org.jini.rio.qos.SLAPolicyHandler">
                            <Parameter Name="slaPolicyHandler"
                                       Value="new org.jini.rio.qos.ScalingPolicyHandler(
                                                                 (org.jini.rio.core.SLA)$data)" />
                        </Component>
                        <Component Name="org.jini.rio.qos.ScalingPolicyHandler">
                            <Parameter Name="provisionListenerExporter"
                                       Value="new net.jini.jrmp.JrmpExporter()" />
                            <Parameter Name="MaxServices" Value="2" />
                            <Parameter Name="ServiceDiscoveryWait" Value="2000" />
                            <Parameter Name="LowerThresholdDampeningFactor" Value="30000" />
                        </Component>
                    </Configuration>
                </SLA>

            </ServiceLevelAgreements>

            <Groups>
                <Group>sorcer.DEV</Group>
            </Groups>

            <Logging>
                <Logger Name="org.jini.rio.qos" Level="ALL">
                    <Handler ClassName="java.util.logging.ConsoleHandler" Level="ALL"/>
                </Logger>
            </Logging>

            <Configuration>
                <Component Name="com.sun.jini.outrigger">
                    <Parameter Name="exportServer" Value="new net.jini.jrmp.JrmpExporter()" />
                </Component>
            </Configuration>

            <Maintain>1</Maintain>
        </ServiceBean>

        <Service Name="Lookup">
            <Codebase>&CodeServerURL;</Codebase>
            <Interfaces>
                <Interface>net.jini.core.lookup.ServiceRegistrar</Interface>
            </Interfaces>
            <Groups>
                <Group>server.DEV</Group>
            </Groups>
            <Maintain>1</Maintain>
        </Service>

    </OperationalString>
</opstring>
