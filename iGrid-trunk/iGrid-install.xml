<?xml version='1.0' encoding='ISO-8859-1' standalone='yes'?>

<project name="IGrid" default="all" basedir=".">

	<target name="packages">
		<ant dir="." antfile="iGrid-build.xml" target="all" inheritAll="false" />
	</target>
	
	<target name="packages-test">
		<ant dir="." antfile="iGrid-build.xml" target="all-test" inheritAll="false" />
	</target>
	
	<target name="clean">
		<property name="target" value="clean" />
		<ant target="clean-all" antfile="iGrid-clean.xml" />
	</target>

	<target name="prepare">
		<property name="target" value="clean" />
		<ant target="prepare" antfile="iGrid-build.xml" />
	</target>

	<target name="all" depends="prepare, clean, prepare, packages">
	</target>	

	<target name="all-test" depends="prepare, clean, prepare, packages-test">
	</target>
			
	<target name="doOne">
		<condition property="whichone" value="doWith">
			<isset property="target" />
		</condition>
		<condition property="whichone" value="doWithOut">
			<not>
				<isset property="target" />
			</not>
		</condition>
		<ant target="${whichone}" antfile="products-build.xml" />
	</target>

	<target name="doWith">
		<ant dir="${dir}" antfile="${antfile}" target="${target}" inheritAll="true" />
	</target>

	<target name="doWithOut">
		<ant dir="${dir}" antfile="${antfile}" inheritAll="true" />
	</target>
	
</project>
