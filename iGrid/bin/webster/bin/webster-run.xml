<?xml version="1.0"?>

<project name="code server" default="webster" basedir=".">


	<property name="pom.file" value="${sorcer.home}/modules/tools/webster/pom.xml" />
	<!-- load system environment variables -->
	<property environment="env" />
	<import file="${env.SORCER_HOME}/modules/common-run.xml" />

	<property name="provider.webster" value="${provider.webster.interface.TMP}" />
	<echo message="provider.webster = ${provider.webster}" />
	<echo message="provider.webster.port ${provider.webster.port}" />
	
	<path id="run.classpath">
	    <path refid="runtime.classpath"/>  
	    <pathelement location="${mvn.repo}/org/sorcersoft/sorcer/webster/${v.sorcer}/webster-${v.sorcer}.jar" />
	</path>

	<target name="webster" depends="mvn-init">
		<java classname="sorcer.tools.webster.Webster" maxmemory="500M" fork="yes">
			<classpath>
			    <path refid="run.classpath"/>  				
			</classpath>
			<sysproperty key="java.util.logging.config.file" value="${sorcer.home}/configs/sorcer.logging" />
			<sysproperty key="java.protocol.handler.pkgs" value="net.jini.url" />
			<sysproperty key="java.security.policy" value="${sorcer.policy}/sorcer.policy" />
			<sysproperty key="provider.webster.root" value="${mvn.repo};${sorcer.home}/lib/river/lib;${sorcer.home}/lib/river/lib-dl" />
			<sysproperty key="provider.webster.port" value="${provider.webster.port}" />
			<sysproperty key="provider.webster.interface" value="${provider.webster}" /> 
			<sysproperty key="provider.webster.debug" value="true" />
			<!-- Configuration for remote requestor/provider data access -->
<!--			<sysproperty key="data.server" value="10.131.5.90" />
			<sysproperty key="data.server.port" value="9000" />
			<sysproperty key="data.root.dir" value="${sorcer.home}/data" />
			<sysproperty key="requestor.data.dir" value="optimization/input" />-->
		</java>
	</target>
</project>
