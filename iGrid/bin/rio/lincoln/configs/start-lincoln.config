import java.net.URL;
import org.jini.rio.boot.BootUtil;
import org.jini.rio.boot.RioServiceDescriptor;
import com.sun.jini.config.ConfigUtil;
import com.sun.jini.start.NonActivatableServiceDescriptor;
import com.sun.jini.start.ServiceDescriptor;

com.sun.jini.start {
    private static port = BootUtil.getAnonymousPort();
    private static rioUtilsLibPath = "${RIO_UTILS}${/}lib";    
    private static policy = "${RIO_UTILS}${/}policy${/}sorcer.policy";    
    
    /* Set up Rio Webster attributes */
    private static webster = "${RIO_HOME}${/}lib${/}webster.jar";
       
    /* Set up Rio Lincoln attributes */       
    private static lincolnClasspath = "${RIO_UTILS}${/}lib${/}lincoln.jar";
    private static lincolnCodebase = BootUtil.getCodebase(new String[] {
                                                             "lincoln-dl.jar", 
							     "rio-dl.jar"},
                                                          port);
    private static lincolnConfig = "${RIO_UTILS}${/}configs${/}lincoln.config";

    static serviceDescriptors = new ServiceDescriptor[] {
        /* Rio Webster, set to serve up 1 directory */
        new NonActivatableServiceDescriptor("",
                                            policy,
                                            webster,
                                            "org.jini.rio.tools.webster.Webster",
                                            new String[]{
                                                "-port", port,
                                                "-roots",
                                                ConfigUtil.concat(new Object[] {
                                                                      rioUtilsLibPath})
                                            }),    
        /* Rio Lincoln */
        new RioServiceDescriptor(lincolnCodebase, 
                                 policy, 
                                 lincolnClasspath,
                                 "org.jini.rio.utilities.lincoln.LincolnImpl",
                                 new String[] {lincolnConfig})
    };    

}

/* Declare Common JARs to load */
org.jini.rio.boot {
    commonJARs = new URL[] {
           BootUtil.fileToURL("${RIO_HOME}${/}lib${/}rio.jar")
    };
}
