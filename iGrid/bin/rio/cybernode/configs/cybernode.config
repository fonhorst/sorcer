/*
 * Configuration for a Cybernode
 */
import java.util.logging.ConsoleHandler;
import java.util.logging.Level;
import com.sun.jini.config.ConfigUtil;
import org.jini.rio.log.LoggerConfig;
import org.jini.rio.log.LoggerConfig.LogHandlerConfig;
import org.jini.rio.qos.ComputeResource;

import net.jini.config.Configuration;
import net.jini.jeri.BasicILFactory;
import net.jini.jeri.BasicJeriExporter;
import net.jini.jeri.tcp.TcpServerEndpoint;
import org.jini.rio.boot.BootUtil;

org.jini.rio.cybernode {
    initialLookupGroups = new String[] { "sorcer.DEV" };
    //initialLookupGroups = new String[] {"${user.name}"};
    serviceName = "Cybernode";
    serviceComment = "Dynamic Agent";
    provisionEnabled = Boolean.valueOf(true);

    loggerConfigs = new LoggerConfig[] {
        new LoggerConfig("org.jini.rio.cybernode",
                         Level.FINEST,
                         //Level.OFF,
                         false,
                         new LogHandlerConfig[] {
                             new LogHandlerConfig(new ConsoleHandler(), Level.FINEST)
                         })        
    };
}

/* Declare ComputeResource */
org.jini.rio.boot {
    computeResourceConfig = "${RIO_HOME}${/}configs${/}computeResource.config";
    computeResource = new ComputeResource(new String[] {computeResourceConfig},
                                          (Configuration)$data);
}

/* Declare Exporters */
org.jini.rio {
    host = BootUtil.getHostAddress();
    defaultExporter = new BasicJeriExporter(TcpServerEndpoint.getInstance(host, 0),
                                            new BasicILFactory());
}

net.jini.lookup.ServiceDiscoveryManager {
    eventListenerExporter = org.jini.rio.defaultExporter;
}

