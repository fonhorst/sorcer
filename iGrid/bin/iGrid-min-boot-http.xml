<?xml version="1.0"?>
<project name="Jini basic services" default="iGrid" basedir=".">

	<import file="../modules/common-run.xml" />

	<target name="iGrid" depends="clean, services" />

	<property name="iGrid.data" value="${iGrid.home}/data" />

	<target name="services">
		<java jar="${lib}/boot.jar" fork="yes">
			<jvmarg value="-Djava.net.preferIPv4Stack=true" />
			<arg value="../configs/boot-iGrid-min-http.config" />
			<sysproperty key="java.protocol.handler.pkgs" value="net.jini.url|sorcer.util.bdb.sos" />
			<sysproperty key="iGrid.home" value="${iGrid.home}" />
			<sysproperty key="rio.home" value="${env.RIO_HOME}" />
			<sysproperty key="sorcer.env.file" value="${iGrid.home}/configs/sorcer.env" />
			<sysproperty key="java.security.policy" value="../policy/iGrid.policy" />
			<sysproperty key="java.util.logging.config.file" value="${iGrid.home}/configs/sorcer.logging" />
			<sysproperty key="webster.tmp.dir" value="${iGrid.data}" />
		</java>
	</target>

	<target name="clean" description="Deletes database files">
		<delete dir="${iGrid.home}/logs/dbfiles_blitz" failonerror="false" />
		<delete dir="${iGrid.home}/logs/dbfiles_monitor" failonerror="false" />
		<delete dir="${iGrid.home}/logs/slamonitor.sla_db" failonerror="false" />
		<delete file="${iGrid.home}/bin/monitoredjobs_index.obf" failonerror="false" />
		<delete file="${iGrid.home}/bin/monitoredjobs_temp.obf" failonerror="false" />
		<delete file="${iGrid.home}/bin/monitoredjobs.obf" failonerror="false" />
	</target>

</project>